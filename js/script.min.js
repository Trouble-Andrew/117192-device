var link=document.querySelector(".contacts__btn"),popup=document.querySelector(".modal--write-us"),overlay=document.querySelector(".overlay"),mapLink=document.querySelector(".map-link"),map=document.querySelector(".modal--map"),popupClose=document.querySelector(".btn--close"),mapClose=document.querySelector(".btn-map"),modalForm=popup.querySelector(".modal-form"),fieldName=popup.querySelector("#contact-name"),fieldEmail=popup.querySelector("#contact-email"),fieldText=popup.querySelector("#input-text"),storageName="",storageEmail="",isStorageSupport=!0,storage="",slideServicesIndex=1;function plusServicesSlides(e){showServicesSlides(slideServicesIndex+=e)}function currentServicesSlide(e){showServicesSlides(slideServicesIndex=e)}function showServicesSlides(e){var s,l=document.getElementsByClassName("slider-services__slide"),a=document.getElementsByClassName("slider-services__btn");for(s=0;s<l.length;s++)l[s].classList.remove("slider-services__slide--active"),a[s].setAttribute("onclick","currentServicesSlide("+(s+1)+")");for(s=0;s<a.length;s++)a[s].className=a[s].className.replace(" slider-services__btn--active","");l[slideServicesIndex-1].classList.add("slider-services__slide--active"),a[slideServicesIndex-1].className+=" slider-services__btn--active"}showServicesSlides(slideServicesIndex);var slideIndex=1;function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var s,l=document.getElementsByClassName("slider__slide"),a=document.getElementsByClassName("slider__radio");for(s=0;s<l.length;s++)l[s].classList.remove("slider__slide--active");for(s=0;s<a.length;s++)a[s].className=a[s].className.replace(" slider__radio--active",""),a[s].setAttribute("onclick","currentSlide("+(s+1)+")");l[slideIndex-1].classList.add("slider__slide--active"),a[slideIndex-1].className+=" slider__radio--active"}showSlides(slideIndex);try{storage=localStorage.getItem(fieldName),storageName=localStorage.getItem("fieldName"),storageEmail=localStorage.getItem("fieldEmail")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),overlay.classList.add("modal-show"),storageName?(fieldName.value=storageName,fieldEmail.focus()):storageName&&storageEmail?(fieldName.value=storageName,fieldEmail.value=storageEmail,fieldText.focus()):fieldName.focus()}),mapLink.addEventListener("click",function(e){e.preventDefault(),map.classList.add("modal-show"),overlay.classList.add("modal-show")}),popupClose.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("modal-show"),overlay.classList.remove("modal-show")}),overlay.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),overlay.classList.remove("modal-show"),map.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(popup.classList.contains("modal-show")?(e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-show")):map.classList.contains("modal-show")&&(e.preventDefault(),map.classList.remove("modal-show"),overlay.classList.remove("modal-show")))}),modalForm.addEventListener("submit",function(e){e.preventDefault(),fieldName.value&&fieldEmail.value&&fieldText.value?isStorageSupport&&localStorage.setItem("fieldName",fieldName.value):(popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),fieldName.value?fieldName.classList.remove("modal-form__field--invalid"):fieldName.classList.add("modal-form__field--invalid"),fieldEmail.value?fieldEmail.classList.remove("modal-form__field--invalid"):fieldEmail.classList.add("modal-form__field--invalid"),fieldText.value?fieldText.classList.remove("modal-form__field--invalid"):fieldText.classList.add("modal-form__field--invalid"))});
